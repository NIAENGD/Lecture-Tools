@layer tokens {
  :root {
    color-scheme: light;

    /* Font families */
    --font-family-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-family-mono: 'JetBrains Mono', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono',
      'Courier New', monospace;

    /* Font sizes */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-md: 0.9375rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.5rem;

    /* Line heights */
    --line-height-tight: 1.2;
    --line-height-base: 1.5;
    --line-height-loose: 1.7;

    /* Font weights */
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;

    /* Spacing scale */
    --space-3xs: 2px;
    --space-2xs: 4px;
    --space-xs: 8px;
    --space-sm: 12px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-2xl: 48px;

    /* Radii */
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-pill: 999px;

    /* Border widths */
    --border-width-hairline: 1px;
    --border-width-strong: 2px;

    /* Durations */
    --transition-duration-fast: 120ms;
    --transition-duration-medium: 180ms;

    /* Shadows & elevation */
    --shadow-elevation-1: 0 1px 2px rgba(15, 23, 42, 0.08);
    --shadow-elevation-2: 0 10px 30px rgba(15, 23, 42, 0.12);
    --shadow-overlay: 0 20px 45px rgba(15, 23, 42, 0.25);

    /* Palette */
    --color-surface-background: #f5f6f8;
    --color-surface-panel: #ffffff;
    --color-surface-subtle: #f1f5f9;
    --color-border-subtle: #d2d6dc;
    --color-border-strong: #1f2937;
    --color-text-primary: #1f2933;
    --color-text-secondary: #475569;
    --color-text-placeholder: #64748b;
    --color-text-inverse: #f8fafc;
    --color-accent: #2563eb;
    --color-accent-soft: #e2e8f0;
    --color-accent-contrast: #ffffff;
    --color-danger: #dc2626;
    --color-danger-soft: #fee2e2;
    --color-danger-contrast: #ffffff;
    --color-status-info-bg: #e0f2fe;
    --color-status-info-text: #0369a1;
    --color-status-success-bg: #dcfce7;
    --color-status-success-text: #166534;
    --color-status-error-bg: #fee2e2;
    --color-status-error-text: #b91c1c;
    --color-overlay: rgba(15, 23, 42, 0.45);

    /* Legacy custom properties mapped to tokens */
    --font-size-base: var(--font-size-md);
    --font-line-height-base: var(--line-height-base);
    --font-weight-normal: var(--font-weight-regular);
    --font-weight-medium: var(--font-weight-medium);
    --font-weight-semibold: var(--font-weight-semibold);
    --background: var(--color-surface-background);
    --text: var(--color-text-primary);
    --muted: var(--color-text-secondary);
    --panel-bg: var(--color-surface-panel);
    --panel-border: var(--color-border-subtle);
    --panel-shadow: var(--shadow-elevation-1);
    --accent: var(--color-accent);
    --accent-contrast: var(--color-accent-contrast);
    --accent-muted: var(--color-accent-soft);
    --danger: var(--color-danger);
    --danger-contrast: var(--color-danger-contrast);
    --placeholder: var(--color-text-placeholder);
    --status-info-bg: var(--color-status-info-bg);
    --status-info-text: var(--color-status-info-text);
    --status-error-bg: var(--color-status-error-bg);
    --status-error-text: var(--color-status-error-text);
    --status-success-bg: var(--color-status-success-bg);
    --status-success-text: var(--color-status-success-text);
    --status-progress-track: rgba(15, 23, 42, 0.16);
    --shadow-panel: var(--shadow-elevation-1);
    --shadow-dialog: var(--shadow-overlay);
    --debug-surface: #020617;
    --debug-text: #e2e8f0;
    --debug-border: rgba(148, 163, 184, 0.24);
  }

  body[data-theme='light'] {
    color-scheme: light;
  }

  body[data-theme='dark'] {
    color-scheme: dark;

    --color-surface-background: #0f172a;
    --color-surface-panel: #1e293b;
    --color-surface-subtle: #101d36;
    --color-border-subtle: #334155;
    --color-border-strong: #94a3b8;
    --color-text-primary: #f8fafc;
    --color-text-secondary: #94a3b8;
    --color-text-placeholder: #94a3b8;
    --color-text-inverse: #0f172a;
    --color-accent: #38bdf8;
    --color-accent-soft: rgba(56, 189, 248, 0.18);
    --color-accent-contrast: #0f172a;
    --color-danger: #f87171;
    --color-danger-soft: rgba(248, 113, 113, 0.24);
    --color-danger-contrast: #0f172a;
    --color-status-info-bg: rgba(14, 165, 233, 0.2);
    --color-status-info-text: #bae6fd;
    --color-status-success-bg: rgba(74, 222, 128, 0.22);
    --color-status-success-text: #bbf7d0;
    --color-status-error-bg: rgba(248, 113, 113, 0.24);
    --color-status-error-text: #fecaca;
    --status-progress-track: rgba(255, 255, 255, 0.25);
    --shadow-elevation-1: 0 1px 2px rgba(2, 6, 23, 0.45);
    --shadow-elevation-2: 0 16px 45px rgba(2, 6, 23, 0.55);
    --shadow-overlay: 0 20px 45px rgba(2, 6, 23, 0.7);
    --debug-surface: #020617;
    --debug-text: #e2e8f0;
    --debug-border: rgba(148, 163, 184, 0.24);
  }

  body[data-theme='system'] {
    color-scheme: light;
  }

  @media (prefers-color-scheme: dark) {
    body[data-theme='system'] {
      color-scheme: dark;

      --color-surface-background: #0f172a;
      --color-surface-panel: #1e293b;
      --color-surface-subtle: #101d36;
      --color-border-subtle: #334155;
      --color-border-strong: #94a3b8;
      --color-text-primary: #f8fafc;
      --color-text-secondary: #94a3b8;
      --color-text-placeholder: #94a3b8;
      --color-text-inverse: #0f172a;
      --color-accent: #38bdf8;
      --color-accent-soft: rgba(56, 189, 248, 0.18);
      --color-accent-contrast: #0f172a;
      --color-danger: #f87171;
      --color-danger-soft: rgba(248, 113, 113, 0.24);
      --color-danger-contrast: #0f172a;
      --color-status-info-bg: rgba(14, 165, 233, 0.2);
      --color-status-info-text: #bae6fd;
      --color-status-success-bg: rgba(74, 222, 128, 0.22);
      --color-status-success-text: #bbf7d0;
      --color-status-error-bg: rgba(248, 113, 113, 0.24);
      --color-status-error-text: #fecaca;
      --status-progress-track: rgba(255, 255, 255, 0.25);
      --shadow-elevation-1: 0 1px 2px rgba(2, 6, 23, 0.45);
      --shadow-elevation-2: 0 16px 45px rgba(2, 6, 23, 0.55);
      --shadow-overlay: 0 20px 45px rgba(2, 6, 23, 0.7);
    }
  }
}
